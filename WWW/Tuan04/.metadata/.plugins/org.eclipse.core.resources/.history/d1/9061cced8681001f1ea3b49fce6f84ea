package daoImplement;

import java.util.ArrayList;
import java.util.List;

import dao.CartBeanDAO;
import jakarta.persistence.EntityManager;
import jakarta.persistence.EntityTransaction;
import model.CartItemBean;
import model.Product;

public class CartBeanDAOIMPL implements CartBeanDAO{
	private EntityManager entityManager;
	public CartBeanDAOIMPL(EntityManager entityManager) {
		this.entityManager = entityManager;
	}
	@Override
	public void addCartItem(Product product, int quantity) {
		// TODO Auto-generated method stub
		 EntityTransaction transaction = entityManager.getTransaction();
	        try {
	            transaction.begin();
	            CartItemBean cartItem = new CartItemBean();
	            cartItem.setPartNumber(product.getId());
	            cartItem.setModelDescription(product.getModel());
	            cartItem.setUnitCost(product.getPrice());
	            cartItem.setQuantity(quantity);
	            cartItem.setTotalCost(product.getPrice() * quantity);
	            entityManager.persist(cartItem);
	            transaction.commit();
	        } catch (Exception e) {
	            if (transaction.isActive()) {
	                transaction.rollback();
	            }
	            e.printStackTrace();
	        }
	}
	@Override
	public List<CartItemBean> getCartItems() {
		// TODO Auto-generated method stub
		return null;
	}
	@Override
	public void deleteCartItem(String strItemIndex) {
		// TODO Auto-generated method stub
		
	}
	@Override
	public void upateCartItem(String srtItemIndex, String strQuantity) {
		// TODO Auto-generated method stub
		
	}
	@Override
	public CartItemBean getCartItem(int iItemIndex) {
		// TODO Auto-generated method stub
		return null;
	}
	@Override
	public void addCartItem(CartItemBean cartItem) {
		// TODO Auto-generated method stub
		
	}
	@Override
	public void setCartItems(ArrayList<CartItemBean> alCartItems) {
		// TODO Auto-generated method stub
		
	}
	@Override
	public double getOrderTotal() {
		// TODO Auto-generated method stub
		return 0;
	}
	@Override
	public void setOrderTotal(double dblOrderTotal) {
		// TODO Auto-generated method stub
		
	}

	
}
